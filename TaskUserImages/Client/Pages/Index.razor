@page "/"
@using Contracts.Dto;
@using TaskUserImages.Client.API;
@inject IImageFriendsAPI api

<PageTitle>Index</PageTitle>
Welcome to your new app.

<MudList>
    @foreach(var user in users)
    {
        <MudListItem>
            @user.UserName
        </MudListItem>
    }
</MudList>
@code
{
    private List<UserDto> users = new();
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        if (firstRender)
        {
            users = await api.GetUsers(1,10);
            StateHasChanged();
        }
    }
}